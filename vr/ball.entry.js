webpackJsonp([2],{2:function(e,t){function a(){M=!0}function o(){M=!1}function i(){var e=E.domElement;e&&"function"==typeof e.requestPointerLock&&e.requestPointerLock()}function n(){var e=document.pointerLockElement,t=E.domElement;e&&e===t&&"function"==typeof document.exitPointerLock&&document.exitPointerLock()}function r(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),E.setSize(window.innerWidth,window.innerHeight)}function s(){E.animate(d)}function d(){var e=60*R.getDelta();if(!0===M){var t=y.children[0];y.remove(t),t.position.set(0,0,-.75),t.position.applyQuaternion(p.quaternion),t.userData.velocity.x=.02*(Math.random()-.5)*e,t.userData.velocity.y=.02*(Math.random()-.5)*e,t.userData.velocity.z=(.01*Math.random()-.05)*e,t.userData.velocity.applyQuaternion(p.quaternion),y.add(t)}u.setFromCamera({x:0,y:0},p);var a=u.intersectObjects(y.children);if(a.length>0)if(v!=a[0].object){v&&v.material.emissive.setHex(v.currentHex),v=a[0].object,v.currentHex=v.material.emissive.getHex(),v.material.emissive.setHex(16711680),h=0,w.setVolume(.5),w.play(),v.userData.velocity.x=2*v.userData.velocity.x+5e-4,v.userData.velocity.y=2*v.userData.velocity.y+5e-4,v.userData.velocity.z=2*v.userData.velocity.z+5e-4;var o=Math.abs(v.userData.velocity.x)+Math.abs(v.userData.velocity.y)+Math.abs(v.userData.velocity.z);o>.03&&H.play()}else h+=R.getDelta(),v.userData.velocity.x=2*v.userData.velocity.x+1e-4,v.userData.velocity.y=2*v.userData.velocity.y+1e-4,v.userData.velocity.z=2*v.userData.velocity.z+1e-4,h>2&&(w.setVolume(2),w.play());else v&&v.material.emissive.setHex(v.currentHex),v=void 0;for(var i=0;i<y.children.length;i++){var t=y.children[i];t.userData.velocity.multiplyScalar(1-.001*e),t.position.add(t.userData.velocity),(t.position.x<-3||t.position.x>3)&&(t.position.x=THREE.Math.clamp(t.position.x,-3,3),t.userData.velocity.x=-t.userData.velocity.x),(t.position.y<-3||t.position.y>3)&&(t.position.y=THREE.Math.clamp(t.position.y,-3,3),t.userData.velocity.y=-t.userData.velocity.y),(t.position.z<-3||t.position.z>3)&&(t.position.z=THREE.Math.clamp(t.position.z,-3,3),t.userData.velocity.z=-t.userData.velocity.z),t.rotation.x+=2*t.userData.velocity.x*e,t.rotation.y+=2*t.userData.velocity.y*e,t.rotation.z+=2*t.userData.velocity.z*e}E.render(c,p)}var l,p,c,u,E,y,v,m,h,w,H,R=new THREE.Clock,M=!1,T=function(){function e(){}return e.prototype.init=function(){l=document.createElement("div"),document.body.appendChild(l),this.addAppInfo(),c=new THREE.Scene,c.background=new THREE.Color(5263440),p=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.1,10),c.add(p),this.addCrosshair(),this.addAppObjects(),c.add(new THREE.HemisphereLight(6316128,4210752));var e=new THREE.DirectionalLight(16777215);e.position.set(1,1,1).normalize(),c.add(e);var t=new THREE.AudioListener;p.add(t),w=new THREE.Audio(t),(new THREE.AudioLoader).load("/assets/ping_pong.mp3",function(e){w.setBuffer(e),w.setLoop(!1),w.setVolume(.5)});var s=new THREE.AudioListener;p.add(s),H=new THREE.Audio(s),(new THREE.AudioLoader).load("/assets/dog.ogg",function(e){H.setBuffer(e),H.setLoop(!1),H.setVolume(.5),H.play()}),u=new THREE.Raycaster,E=new THREE.WebGLRenderer({antialias:!0}),E.setPixelRatio(window.devicePixelRatio),E.setSize(window.innerWidth,window.innerHeight),E.vr.enabled=!0,l.appendChild(E.domElement),E.domElement.addEventListener("mousedown",a,!1),E.domElement.addEventListener("mouseup",o,!1),E.domElement.addEventListener("touchstart",a,!1),E.domElement.addEventListener("touchend",o,!1),window.addEventListener("resize",r,!1),window.addEventListener("vrdisplaypointerrestricted",i,!1),window.addEventListener("vrdisplaypointerunrestricted",n,!1),document.body.appendChild(WEBVR.createButton(E))},e.prototype.addAppObjects=function(){y=new THREE.Mesh(new THREE.BoxGeometry(6,6,6,8,8,8),new THREE.MeshBasicMaterial({color:4210752,wireframe:!0})),c.add(y);var e=new THREE.TextureLoader,t=e.load("/assets/textures/lake-water-1.png");t.wrapS=THREE.MirroredRepeatWrapping,t.wrapT=THREE.MirroredRepeatWrapping,t.repeat.set(1,1),t.flipY=!0;var a={shininess:1,specular:16777215,map:t},o=new THREE.PlaneGeometry(6,6,8,8),i=new THREE.MeshPhongMaterial(a),n=new THREE.Mesh(o,i);n.position.z=-3.1,c.add(n);var r=(new THREE.TextureLoader,e.load("/assets/textures/sand.png"));r.wrapS=THREE.MirroredRepeatWrapping,r.wrapT=THREE.MirroredRepeatWrapping,r.repeat.set(1,1),r.flipY=!1;var s={shininess:1,specular:16777215,map:r},d=new THREE.PlaneGeometry(6,6,8,8),l=new THREE.MeshPhongMaterial(s),p=new THREE.Mesh(d,l);p.rotation.x=-.5*Math.PI,p.position.y=-3.1,c.add(p);for(var u=new THREE.SphereGeometry(.2,20,20),E=0;E<20;E++){var v=new THREE.Mesh(u,new THREE.MeshLambertMaterial({color:16777215*Math.random()}));v.position.x=4*Math.random()-2,v.position.y=4*Math.random()-2,v.position.z=4*Math.random()-2,v.rotation.x=2*Math.random()*Math.PI,v.rotation.y=2*Math.random()*Math.PI,v.rotation.z=2*Math.random()*Math.PI,v.userData.velocity=new THREE.Vector3,v.userData.velocity.x=.01*Math.random()-.005,v.userData.velocity.y=.01*Math.random()-.005,v.userData.velocity.z=.01*Math.random()-.005,y.add(v)}},e.prototype.addAppInfo=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="10px",e.style.width="100%",e.style.textAlign="center",e.innerHTML="Wander Balls",l.appendChild(e)},e.prototype.addCrosshair=function(){m=new THREE.Mesh(new THREE.RingGeometry(.02,.04,32),new THREE.MeshBasicMaterial({color:16777215,opacity:.5,transparent:!0})),m.position.z=-2,p.add(m)},e.prototype.start=function(){s()},e}(),x=new T;x.init(),x.start()}},[2]);