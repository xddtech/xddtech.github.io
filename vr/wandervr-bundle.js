webpackJsonp([0],[function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1);window.onload=function(){var e=document.getElementById("app-content");new n.CubeShow(e).start()}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.init(e)}return e.prototype.init=function(t){e.showClock=new THREE.Clock;var o=new THREE.Scene;e.appScene=o,this.addCameraAndControls(),e.raycaster=new THREE.Raycaster;var n=new THREE.WebGLRenderer({antialias:!0});e.appRender=n,n.setPixelRatio(window.devicePixelRatio),e.onWindowResize(),n.vr.enabled=!0,t.appendChild(n.domElement),t.appendChild(WEBVR.createButton(n)),window.addEventListener("resize",e.onWindowResize,!1),n.domElement.addEventListener("mousedown",e.onMouseDown,!1),n.domElement.addEventListener("mouseup",e.onMouseUp,!1),n.domElement.addEventListener("touchstart",e.onMouseDown,!1),n.domElement.addEventListener("touchend",e.onMouseUp,!1),window.addEventListener("vrdisplaypointerrestricted",e.onPointerRestricted,!1),window.addEventListener("vrdisplaypointerunrestricted",e.onPointerUnrestricted,!1),this.addShowObjects();var a=document.createElement("div");a.style.position="absolute",a.style.top="50px",a.style.width="100%",a.style.textAlign="center",a.innerHTML='<a href="http://threejs.org" target="_blank" rel="noopener">three.js - cube vr</a>',t.appendChild(a),e.animate()},e.prototype.start=function(){},e.onWindowResize=function(){var t=window.innerHeight;e.appRender.setSize(window.innerWidth,t),e.appCamera.aspect=window.innerWidth/t,e.appCamera.updateProjectionMatrix()},e.prototype.addCameraAndControls=function(){var t=this.getCameraAspect(),o=new THREE.PerspectiveCamera(70,t,.1,10);e.appCamera=o,e.appScene.add(o);var n=new THREE.Mesh(new THREE.RingGeometry(.02,.04,32),new THREE.MeshBasicMaterial({color:16777215,opacity:.5,transparent:!0}));n.position.z=-2,o.add(n)},e.prototype.getCameraAspect=function(){var e=window.innerHeight;return window.innerWidth/e},e.prototype.addShowObjects=function(){var t=(new THREE.AxisHelper(200),new THREE.Mesh(new THREE.BoxGeometry(6,6,6,8,8,8),new THREE.MeshBasicMaterial({color:4210752,wireframe:!0})));e.room=t,e.appScene.add(t),e.appScene.add(new THREE.HemisphereLight(6316128,4210752));var o=new THREE.DirectionalLight(16777215);o.position.set(1,1,1).normalize(),e.appScene.add(o);for(var n=new THREE.BoxGeometry(.2,.2,.2),a=0;a<200;a++){var r=new THREE.Mesh(n,new THREE.MeshLambertMaterial({color:16777215*Math.random()}));r.position.x=4*Math.random()-2,r.position.y=4*Math.random()-2,r.position.z=4*Math.random()-2,r.rotation.x=2*Math.random()*Math.PI,r.rotation.y=2*Math.random()*Math.PI,r.rotation.z=2*Math.random()*Math.PI,r.scale.x=Math.random()+.5,r.scale.y=Math.random()+.5,r.scale.z=Math.random()+.5,r.userData.velocity=new THREE.Vector3,r.userData.velocity.x=.01*Math.random()-.005,r.userData.velocity.y=.01*Math.random()-.005,r.userData.velocity.z=.01*Math.random()-.005,t.add(r)}},e.onMouseDown=function(){e.isMouseDown=!0},e.onMouseUp=function(){e.isMouseDown=!1},e.onPointerRestricted=function(){var t=e.appRender.domElement;t&&"function"==typeof t.requestPointerLock&&t.requestPointerLock()},e.onPointerUnrestricted=function(){var t=document.pointerLockElement,o=e.appRender.domElement;t&&t===o&&"function"==typeof document.exitPointerLock&&document.exitPointerLock()},e.animate=function(){requestAnimationFrame(e.animate);var t=60*e.showClock.getDelta(),o=e.room;if(!0===e.isMouseDown){var n=o.children[0];o.remove(n),n.position.set(0,0,-.75),n.position.applyQuaternion(e.appCamera.quaternion),n.userData.velocity.x=.02*(Math.random()-.5)*t,n.userData.velocity.y=.02*(Math.random()-.5)*t,n.userData.velocity.z=(.01*Math.random()-.05)*t,n.userData.velocity.applyQuaternion(e.appCamera.quaternion),o.add(n)}e.raycaster.setFromCamera({x:0,y:0},e.appCamera);var a=e.raycaster.intersectObjects(o.children);a.length>0?e.INTERSECTED!=a[0].object&&(e.INTERSECTED&&e.INTERSECTED.material.emissive.setHex(e.INTERSECTED.currentHex),e.INTERSECTED=a[0].object,e.INTERSECTED.currentHex=e.INTERSECTED.material.emissive.getHex(),e.INTERSECTED.material.emissive.setHex(16711680)):(e.INTERSECTED&&e.INTERSECTED.material.emissive.setHex(e.INTERSECTED.currentHex),e.INTERSECTED=void 0);for(var r=0;r<o.children.length;r++){var n=o.children[r];n.userData.velocity.multiplyScalar(1-.001*t),n.position.add(n.userData.velocity),(n.position.x<-3||n.position.x>3)&&(n.position.x=THREE.Math.clamp(n.position.x,-3,3),n.userData.velocity.x=-n.userData.velocity.x),(n.position.y<-3||n.position.y>3)&&(n.position.y=THREE.Math.clamp(n.position.y,-3,3),n.userData.velocity.y=-n.userData.velocity.y),(n.position.z<-3||n.position.z>3)&&(n.position.z=THREE.Math.clamp(n.position.z,-3,3),n.userData.velocity.z=-n.userData.velocity.z),n.rotation.x+=2*n.userData.velocity.x*t,n.rotation.y+=2*n.userData.velocity.y*t,n.rotation.z+=2*n.userData.velocity.z*t}if(null!=e.appRender)try{e.appRender.render(e.appScene,e.appCamera)}catch(e){console.error("CubeShow render error "+e)}else console.error("CubeShow appRender is null")},e.isMouseDown=!1,e}();t.CubeShow=n}],[0]);